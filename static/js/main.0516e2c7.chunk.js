(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{123:function(e,a,t){e.exports=t(229)},16:function(e,a,t){"use strict";t.d(a,"a",function(){return n});var n={default:"Hmm, an unknown error occured",timeout:"Server Timed Out. Check your internet connection",invalidJson:"Response returned is not valid JSON",invalidFirebase:"Firebase is not connected correctly",memberExists:"Member already exists",missingFirstName:"First name is missing",missingLastName:"Last name is missing",missingEmail:"Email is missing",missingPassword:"Password is missing",passwordsDontMatch:"Passwords do not match",game04:"Game not found"}},19:function(e,a,t){"use strict";var n=t(0),r=t.n(n),c=t(120),l=t(121),s=t(230),o=function(e){var a=e.title,t=e.content;return r.a.createElement(c.a,null,r.a.createElement(l.a,{lg:"4"},r.a.createElement("h2",null,a),r.a.createElement("p",null,t),r.a.createElement("p",null,r.a.createElement(s.a,{to:"/",className:"btn btn-primary"},"Go Home"))))};o.defaultProps={title:"Uh oh",content:"An unexpected error came up"},a.a=o},227:function(e,a,t){var n={"./CoinFlip/CoinFlip":[122,9,0],"./CoinFlip/CoinFlip.js":[122,9,0],"./CoinFlip/img/Empty.png":[235,7,4],"./CoinFlip/img/FlipGif.gif":[234,7,5],"./CoinFlip/img/Heads.png":[232,7,6],"./CoinFlip/img/Horizontal.png":[236,7,7],"./CoinFlip/img/Tails.png":[233,7,8],"./CoinFlip/img/Vertical.png":[237,7,9]};function r(e){var a=n[e];return a?t.e(a[2]).then(function(){var e=a[0];return t.t(e,a[1])}):Promise.resolve().then(function(){var a=new Error("Cannot find module '"+e+"'");throw a.code="MODULE_NOT_FOUND",a})}r.keys=function(){return Object.keys(n)},r.id=227,e.exports=r},228:function(e,a,t){},229:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),c=t(43),l=t.n(c),s=t(15),o=t(260),i=t(111),u=t(36),m=t(90),d=t(119),h=t(112),p=t(20),f={loading:!1,info:null,error:null,success:null};var b={loading:!0,error:null,memberTypes:[{id:1,title:"---"},{id:2,title:"----- ---"}],members:[{placeholder:!0,id:"0",userName:"---- --- -- ------"}]};var g={loading:!0,error:null,chats:[{placeholder:!0,id:"0",name:"you don't have any chats yet. ",authorizedUsers:[{id:"0",userName:""},{id:"1",userName:""}]}]};var E={gameTypes:[{id:1,title:"---"},{id:2,title:"----- ---"}],games:[{placeholder:!0,id:"0",title:"---- --- -- ------",body:"---- --- -- ------ ---- --- -- ------ ---- --- -- ------ ---- --- -- ------",author:"---- ------ ",category:1,image:"https://firebasestorage.googleapis.com/v0/b/react-native-starter-app.appspot.com/o/image-1.jpg?alt=media&token=9f7c839b-2d40-4660-a2a0-bf6c2f64a2e5",details:["---- --- -- ------","---- ------ --- --"],info:["---- --- -- ------","---- ------ --- --"]}],favourites:[]};var v={rehydrated:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];switch((arguments.length>1?arguments[1]:void 0).type){case"persist/REHYDRATE":return!0;default:return e}},status:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:f,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"STATUS_REPLACE":return Object(p.a)({},e,{loading:a.loading||!1,info:a.info||null,error:a.error||null,success:a.success||null});default:return e}},member:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"USER_LOGIN":return a.data?Object(p.a)({},e,{uid:a.data.uid,email:a.data.email,emailVerified:a.data.emailVerified}):{};case"USER_DETAILS_UPDATE":return a.data?Object(p.a)({},e,{userName:a.data.userName,signedUp:a.data.signedUp,role:a.data.role,finance:a.data.finance}):{};case"USER_RESET":return{};default:return e}},members:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:b,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"MEMBERTYPES_REPLACE":return Object(p.a)({},e,{error:null,loading:!1,memberTypes:a.data});case"MEMBERS_ERROR":return Object(p.a)({},e,{error:a.data});case"MEMBERS_REPLACE":var t=[];if(a.data&&"object"===typeof a.data){var n=a.data,r=[];for(var c in n)r.push(n[c]);t=r.map(function(e){return{id:e.id,userName:e.userName}})}return Object(p.a)({},e,{error:null,loading:!1,members:t});default:return e}},games:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:E,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"FAVOURITES_REPLACE":return Object(p.a)({},e,{favourites:a.data||[]});case"GAMETYPES_REPLACE":return Object(p.a)({},e,{error:null,loading:!1,gameTypes:a.data});case"GAMES_ERROR":return Object(p.a)({},e,{error:a.data});case"GAMES_REPLACE":var t=[];return a.data&&"object"===typeof a.data&&(t=Object.values(a.data).map(function(e){return{id:e.id,title:e.title,body:e.body,category:e.category,image:e.image,author:e.author,details:e.details,info:e.info}})),Object(p.a)({},e,{error:null,loading:!1,games:t});default:return e}},chats:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:g,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"CHATS_ERROR":return Object(p.a)({},e,{error:a.data});case"CHATS_REPLACE":var t=[];return a.data&&"object"===typeof a.data&&(t=Object.values(a.data).map(function(e){return{id:e.chat.id,name:e.chat.name,messages:Object.values(e.chat.messages).map(function(e){return{id:e.id,message:e.messagetext,timestamp:e.timestamp,author:e.author}})||{},authorizedUsers:Object.values(e.chat.authorizedUsers).map(function(e){return{id:e.id,userName:e.userName}})}})),Object(p.a)({},e,{error:null,loading:!1,chats:t});default:return e}}},y={key:"root",storage:d.a,blacklist:["status"]},w=Object(m.a)(y,v),O=[h.a],j=function(){var e=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||u.d,a=Object(u.e)(w,e(u.a.apply(void 0,O)));return{persistor:Object(m.b)(a,null,function(){a.getState()}),store:a}};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var N=t(263),S=t(259),C=t(239),k=t(120),x=t(121),P=t(46),T=function(e){var a=e.pageTitle,t=e.children;return r.a.createElement(C.a,null,r.a.createElement(P.Helmet,null,r.a.createElement("title",null,a)),r.a.createElement(k.a,null,r.a.createElement(x.a,{sm:"12"},t)))};T.defaultProps={pageTitle:"React App"};var L=T,R=t(9),A=t(11),F=t(10),U=t(12),D=t(14),M=t.n(D),_=t(25),I=t(16),z=t(70),B="AIzaSyCdKLQ3e4M4QNXx5VXP3SdfbSypM2UK0JA",G="casino-ww.firebaseapp.com",V="https://casino-ww.firebaseio.com",H="casino-ww.appspot.com",W="258436917427",K=!1;B&&G&&V&&H&&W&&(z.initializeApp({apiKey:B,authDomain:G,databaseURL:V,storageBucket:H,messagingSenderId:W}),K=!0);var J=K?z.database().ref():null,Y=K?z:null;function q(e){var a=J&&Y&&Y.auth()&&Y.auth().currentUser&&Y.auth().currentUser.uid?Y.auth().currentUser.uid:null;return!!a&&J.child("users/".concat(a)).on("value",function(a){var t=a.val()||[];return e({type:"USER_DETAILS_UPDATE",data:t})})}var X=function(e){function a(){var e,t;Object(R.a)(this,a);for(var n=arguments.length,c=new Array(n),l=0;l<n;l++)c[l]=arguments[l];return(t=Object(A.a)(this,(e=Object(F.a)(a)).call.apply(e,[this].concat(c)))).componentDidMount=function(){(0,t.props.fetchData)()},t.render=function(){var e=t.props,a=e.Layout,n=e.member,c=e.memberLogout,l=e.Items;return r.a.createElement(a,{member:n,logout:c,Items:l})},t}return Object(U.a)(a,e),a}(n.Component),Q={memberLogout:function(){return function(e){return new Promise(function(a,t){return Y.auth().signOut().then(function(){return a(e({type:"USER_RESET"}))}).catch(t)}).catch(function(e){throw e.message})}},fetchData:function(){return null===Y?function(){return new Promise(function(e){return e()})}:function(e){return new Promise(function(a){Y.auth().onAuthStateChanged(function(t){return t?a(q(e)):function(){return new Promise(function(){return a()})}})})}}},$=Object(s.b)(function(e){return{member:e.member||{}}},Q)(X),Z=t(28),ee=t(13),ae=t(240),te=t(241),ne=t(242),re=t(243),ce=t(262),le=t(244),se=t(245),oe=t(246),ie=t(230),ue=t(261),me="Kasino-ww",de=function(e){function a(e){var t;return Object(R.a)(this,a),(t=Object(A.a)(this,Object(F.a)(a).call(this,e))).onLogout=function(){var e=t.props,a=e.history;(0,e.logout)().then(function(){return a.push("/login")})},t.toggleDropDown=function(){var e=t.state.isOpen;t.setState({isOpen:!e})},t.toggleDropDown=t.toggleDropDown.bind(Object(ee.a)(Object(ee.a)(t))),t.state={isOpen:!1},t}return Object(U.a)(a,e),Object(Z.a)(a,[{key:"render",value:function(){var e=this.props,a=e.member,t=e.Items,n=this.state.isOpen,c=!(!a||!a.email);return r.a.createElement("header",{style:{height:60}},r.a.createElement(ae.a,{dark:!0,expand:"sm",className:"fixed-top",style:{minHeight:60,justifyContent:"center",alignItems:"center"}},r.a.createElement(ie.a,{to:"/",className:"navbar-brand",style:{color:"#ffd970",height:40}},r.a.createElement("img",{src:"https://i.imgur.com/Dxkqw0C.png",alt:"header",className:"header-image"})," ",me),r.a.createElement(te.a,{onClick:this.toggleDropDown}),r.a.createElement(ne.a,{isOpen:n,navbar:!0},r.a.createElement(re.a,{className:"ml-auto",navbar:!0},r.a.createElement("div",{className:"d-block d-sm-none"},t),r.a.createElement(ce.a,{nav:!0},r.a.createElement(le.a,{style:{color:"#ffd970",margin:"0.5rem 0.75rem",padding:0},nav:!0,caret:!0},c&&a.finance?"balance ".concat(a.finance.balance," $ | "):" "," ",c?"".concat(a.userName):"My Account"),r.a.createElement(se.a,{style:{backgroundColor:"#1c1f25",padding:0,margin:0,border:"2px solid #66531d"}},!c&&r.a.createElement("div",null,r.a.createElement(oe.a,{style:{borderBottom:"1px solid #66531d"},tag:ie.a,to:"/login"},"Login"),r.a.createElement(oe.a,{tag:ie.a,to:"/sign-up"},"Sign Up")),c&&r.a.createElement("div",null,r.a.createElement(oe.a,{style:{borderBottom:"1px solid #66531d"},tag:ie.a,to:"/update-profile"},"Update Profile"),r.a.createElement(oe.a,{tag:"button",onClick:this.onLogout},"Logout"))))))))}}]),a}(n.Component);de.defaultProps={member:{}};var he=Object(ue.a)(de),pe=function(){return r.a.createElement("footer",{className:"mt-5"},r.a.createElement(k.a,null,r.a.createElement(x.a,{sm:"12",className:"text-right pt-3"},r.a.createElement("p",null," -> ",r.a.createElement("a",{target:"_blank",rel:"noopener noreferrer",href:"https://github.com/VilleKokkarinen"}," Github ")," | Dev: ",r.a.createElement("a",{target:"_blank",rel:"noopener noreferrer",href:"https://github.com/VilleKokkarinen"}," Ville Kokkarinen ")))))},fe=t(247),be=function(){return r.a.createElement("div",null,r.a.createElement(fe.a,null,r.a.createElement(ie.a,{className:"nav-link ".concat("/"===window.location.pathname&&"active"),to:"/"},r.a.createElement("i",{className:"icon-home"})," ",r.a.createElement("span",null,"Home"))),r.a.createElement(fe.a,null,r.a.createElement(ie.a,{className:"nav-link ".concat(window.location.pathname.startsWith("/game")&&"active"),to:"/games"},r.a.createElement("i",{className:"icon-notebook"})," ",r.a.createElement("span",null,"Games"))),r.a.createElement(fe.a,null,r.a.createElement(ie.a,{className:"nav-link ".concat(window.location.pathname.startsWith("/chats")&&"active"),to:"/chats"},r.a.createElement("i",{className:"icon-notebook"})," ",r.a.createElement("span",null,"Priv. Chats"))),r.a.createElement(fe.a,null,r.a.createElement(ie.a,{className:"nav-link ".concat(window.location.pathname.startsWith("/member")&&"active"),to:"/members"},r.a.createElement("i",{className:"icon-notebook"})," ",r.a.createElement("span",null,"Members"))))},ge=function(){return r.a.createElement(x.a,{sm:"2",md:"2",className:"d-none d-sm-block sidebar"},r.a.createElement(re.a,{vertical:!0},be()))},Ee=function(e){var a=e.pageTitle,t=e.children,n=e.props;return r.a.createElement("div",null,r.a.createElement(P.Helmet,null,r.a.createElement("title",null,a)),r.a.createElement($,Object.assign({},n,{Layout:he,Items:be()})),r.a.createElement(C.a,{fluid:!0},r.a.createElement(k.a,null,r.a.createElement(ge,null),r.a.createElement(x.a,{className:"SideBarTemplateCol"},t,r.a.createElement(pe,null)))))};Ee.defaultProps={pageTitle:"React App"};var ve=Ee,ye=t(248),we=function(){return r.a.createElement("div",null,r.a.createElement(k.a,null,r.a.createElement(ye.a,{className:"bg-primary text-white"},r.a.createElement("h1",null,"Web & Mobile App Starter Kit"),r.a.createElement("p",{className:"lead"},"testisovellus"),r.a.createElement("p",null,"web + mobile reacti pohja"))),r.a.createElement(k.a,{className:"pt-md-2"},r.a.createElement(x.a,{xs:"12",md:"4",className:"pt-3 pt-md-0"},r.a.createElement("h3",null,r.a.createElement("i",{className:"icon-map"})," ","Routing"),r.a.createElement("p",null,"React Router is used to handle all web-side routing."),r.a.createElement("p",null,r.a.createElement("a",{target:"_blank",rel:"noopener noreferrer",href:"https://github.com/ReactTraining/react-router",className:"btn btn-primary"},"React Router Docs"))),r.a.createElement(x.a,{xs:"12",md:"4",className:"pt-3 pt-md-0"},r.a.createElement("h3",null,r.a.createElement("i",{className:"icon-fire"})," ","Firebase"),r.a.createElement("p",null,"Firebase is all ready to go with examples on how to read/write data to/from Firebase."),r.a.createElement("p",null,r.a.createElement("a",{target:"_blank",rel:"noopener noreferrer",href:"https://firebase.google.com/docs/database/web/start",className:"btn btn-primary"},"Firebase Docs"))),r.a.createElement(x.a,{xs:"12",md:"4",className:"pt-3 pt-md-0"},r.a.createElement("h3",null,r.a.createElement("i",{className:"icon-organization"})," ","Redux"),r.a.createElement("p",null,"State management the 'clean way' via Redux is setup with examples - woohoo!"),r.a.createElement("p",null,r.a.createElement("a",{target:"_blank",rel:"noopener noreferrer",href:"https://redux.js.org/docs/introduction/",className:"btn btn-primary"},"Redux Docs")))),r.a.createElement(k.a,{className:"pt-md-5 pb-5"},r.a.createElement(x.a,{xs:"12",md:"4",className:"pt-3 pt-md-0"},r.a.createElement("h3",null,r.a.createElement("i",{className:"icon-layers"})," ","Redux Persist"),r.a.createElement("p",null,"Persist the data stored in Redux for faster load times without needing to hit the server each page load."),r.a.createElement("p",null,r.a.createElement("a",{target:"_blank",rel:"noopener noreferrer",href:"https://github.com/rt2zz/redux-persist",className:"btn btn-primary"},"Redux Persist Docs"))),r.a.createElement(x.a,{xs:"12",md:"4",className:"pt-3 pt-md-0"},r.a.createElement("h3",null,r.a.createElement("i",{className:"icon-drop"})," ","Web Styles"),r.a.createElement("p",null,"Webpack, SCSS, Bootstrap and ReactStrap - ready at your fingertips."),r.a.createElement("p",null,r.a.createElement("a",{target:"_blank",rel:"noopener noreferrer",href:"https://reactstrap.github.io/components/alerts/",className:"btn btn-primary"},"ReactStrap Docs"))),r.a.createElement(x.a,{xs:"12",md:"4",className:"pt-3 pt-md-0"},r.a.createElement("h3",null,r.a.createElement("i",{className:"icon-user-following"})," ","Auth"),r.a.createElement("p",null,"Most apps need user authentication. This one comes ready to go with Firebase Auth - but you can easily change that within the `/actions/member.js`"),r.a.createElement("p",null,r.a.createElement("a",{target:"_blank",rel:"noopener noreferrer",href:"https://firebase.google.com/docs/auth/",className:"btn btn-primary"},"Firebase Auth Docs")))),r.a.createElement("hr",null))};var Oe=function(e){function a(){var e,t;Object(R.a)(this,a);for(var n=arguments.length,c=new Array(n),l=0;l<n;l++)c[l]=arguments[l];return(t=Object(A.a)(this,(e=Object(F.a)(a)).call.apply(e,[this].concat(c)))).state={error:null,loading:!1},t.componentDidMount=function(){return t.fetchData()},t.fetchData=function(e){var a=t.props,n=a.fetchGames,r=a.fetchGameTypes;return t.setState({loading:!0}),n(e).then(function(){return r()}).then(function(){return t.setState({loading:!1,error:null})}).catch(function(e){return t.setState({loading:!1,error:e})})},t.render=function(){var e=t.props,a=e.Layout,n=e.games,c=e.match,l=t.state,s=l.loading,o=l.error,i=c&&c.params&&c.params.id?c.params.id:null;return r.a.createElement(a,{gameId:i,error:o,loading:s,games:n.games,reFetch:function(){return t.fetchGames()}})},t}return Object(U.a)(a,e),a}(n.Component);Oe.defaultProps={match:null};var je={fetchGames:function(){return null===Y?function(){return new Promise(function(e){return e()})}:function(e){return new Promise(function(a){return J.child("games").on("value",function(t){var n=t.val()||[];return a(e({type:"GAMES_REPLACE",data:n}))})}).catch(function(e){throw e.message})}},fetchGameTypes:function(){return null===Y?function(){return new Promise(function(e){return e()})}:function(e){return new Promise(function(a,t){return J.child("gameTypes").once("value").then(function(t){var n=t.val()||[];return a(e({type:"GAMETYPES_REPLACE",data:n}))}).catch(t)}).catch(function(e){throw e.message})}}},Ne=Object(s.b)(function(e){return{games:e.games||{}}},je)(Oe),Se=t(249),Ce=t(250),ke=t(251),xe=t(252),Pe=t(253),Te=t(19),Le=function(e){var a=e.error,t=e.loading,n=e.games;if(a)return r.a.createElement(Te.a,{content:a});var c=n.map(function(e){return r.a.createElement(Ce.a,{className:"p-card",key:"".concat(e.id)},r.a.createElement(ke.a,null,r.a.createElement(ie.a,{to:"/game/".concat(e.id)},function(e){if(""!==e.image)return r.a.createElement(Se.a,{style:{maxHeight:"10vh",maxWidth:"10vw"},top:!0,src:e.image,alt:e.title})}(e)),r.a.createElement(xe.a,null,e.title.length>=60?"".concat(e.title.substring(0,60)," ..."):e.title),r.a.createElement(Pe.a,null,e.body.length>=60?"".concat(e.body.substring(0,60)," ..."):e.body),r.a.createElement(ie.a,{className:"btn btn-primary",to:"/game/".concat(e.id)},"View Game ",r.a.createElement("i",{className:"icon-arrow-right"}))))});return r.a.createElement("div",null,r.a.createElement(k.a,{className:t?"content-loading":""},c))};Le.defaultProps={error:null};var Re=Le,Ae=t(40),Fe=function(e){var a=e.error,c=e.loading,l=e.games,s=e.gameId;if(c)return r.a.createElement(Ae.a,null);if(a)return r.a.createElement(Te.a,{content:a});var o=null;if(s&&l&&(o=l.find(function(e){return e.id===s})),!o)return r.a.createElement(Te.a,{content:I.a.game404});var i=r.a.lazy(function(){return t(227)("./"+s+"/"+s)});return r.a.createElement("div",null,r.a.createElement(P.Helmet,null,r.a.createElement("title",null,o.title)),r.a.createElement(k.a,{className:"pb-3"},r.a.createElement(x.a,{sm:"12"},r.a.createElement(ie.a,{className:"btn btn-primary",to:"/games"},r.a.createElement("i",{className:"icon-arrow-left"})," Back"))),r.a.createElement(k.a,null,r.a.createElement(x.a,{sm:"12"},r.a.createElement("h1",null,o.title.length>=100?"".concat(o.title.substring(0,100)," ..."):o.title),r.a.createElement("p",null,"by: ",o.author))),r.a.createElement(n.Suspense,{fallback:r.a.createElement("div",null,"Loading...")},r.a.createElement(i,null)))};Fe.defaultProps={error:null};var Ue=Fe;function De(e){return Me.apply(this,arguments)}function Me(){return(Me=Object(_.a)(M.a.mark(function e(a){var t,n;return M.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=Object.values(a).map(function(){var e=Object(_.a)(M.a.mark(function e(a){var t;return M.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,J.child("users").child(a.id).once("value").then(function(e){return e.val()}).catch(function(){return null});case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}},e)}));return function(a){return e.apply(this,arguments)}}()),e.next=3,Promise.all(t);case 3:return n=e.sent,e.abrupt("return",n);case 5:case"end":return e.stop()}},e)}))).apply(this,arguments)}function _e(e){return Ie.apply(this,arguments)}function Ie(){return(Ie=Object(_.a)(M.a.mark(function e(a){var t,n;return M.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,J.child("chat-messages").child(a).once("value").then(function(e){var a=e.val();return Object.values(a)}).catch(function(){return null});case 2:return t=e.sent,e.next=5,t;case 5:return n=e.sent,e.abrupt("return",n);case 7:case"end":return e.stop()}},e)}))).apply(this,arguments)}function ze(e){return Be.apply(this,arguments)}function Be(){return(Be=Object(_.a)(M.a.mark(function e(a){var t,n;return M.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,J.child("chats").child(a).once("value").then(function(){var e=Object(_.a)(M.a.mark(function e(a){var t,n,r,c;return M.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.val(),e.next=3,De(t.authorizedUsers);case 3:return n=e.sent,e.next=6,_e(t.chatId);case 6:return r=e.sent,c={id:t.chatId,name:t.name,authorizedUsers:n,messages:r},e.abrupt("return",c);case 9:case"end":return e.stop()}},e)}));return function(a){return e.apply(this,arguments)}}()).catch(function(){return null});case 2:return t=e.sent,e.next=5,t;case 5:return n=e.sent,e.abrupt("return",n);case 7:case"end":return e.stop()}},e)}))).apply(this,arguments)}var Ge=function(e){function a(){var e,t;Object(R.a)(this,a);for(var n=arguments.length,c=new Array(n),l=0;l<n;l++)c[l]=arguments[l];return(t=Object(A.a)(this,(e=Object(F.a)(a)).call.apply(e,[this].concat(c)))).state={error:null,loading:!1},t.componentDidMount=function(){t.chats={},t.fetchData()},t.fetchData=function(e){var a=t.props,n=a.fetchChats,r=a.member;return n(e).then(function(){return n(r.uid)}).then(function(){return t.setState({loading:!1,error:null})}).catch(function(e){return t.setState({loading:!1,error:e})})},t.render=function(){var e=t.props,a=e.Layout,n=e.chats,c=e.match,l=e.member,s=t.state,o=s.loading,i=s.error,u=c&&c.params&&c.params.id?c.params.id:null;return r.a.createElement(a,{member:l,chatId:u,error:i,loading:o,chats:n.chats,reFetch:function(){return t.fetchData()}})},t}return Object(U.a)(a,e),a}(n.Component);Ge.defaultProps={match:null};var Ve={fetchChats:function(e){return null===Y?function(){return new Promise(function(e){return e()})}:function(a){return new Promise(function(t){return J.child("user-chats").child(e).on("value",function(){var e=Object(_.a)(M.a.mark(function e(n){var r,c,l,s,o;return M.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(null===(r=n.val()||null)){e.next=12;break}return c=Object.values(r.chats).map(function(){var e=Object(_.a)(M.a.mark(function e(a){return M.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ze(a.id);case 2:return e.t0=e.sent,e.abrupt("return",{chat:e.t0});case 4:case"end":return e.stop()}},e)}));return function(a){return e.apply(this,arguments)}}()),e.next=5,Promise.all(c);case 5:return l=e.sent,s=[],l.forEach(function(e){console.log(e),null!=e.chat&&null!==e.chat.messages&&s.push(e)}),e.next=10,Promise.all(s);case 10:(o=e.sent).length>=1&&t(a({type:"CHATS_REPLACE",data:o}));case 12:case"end":return e.stop()}},e)}));return function(a){return e.apply(this,arguments)}}())}).catch(function(){return null})}}},He=Object(s.b)(function(e){return{chats:e.chats||{},member:e.member||{}}},Ve)(Ge),We=function(e){var a=e.error,t=e.loading,n=e.chats;if(a)return r.a.createElement(Te.a,{content:a});var c=n.map(function(e){return r.a.createElement(Ce.a,{className:"chat-card",key:"".concat(e.id)},r.a.createElement(ke.a,{className:"chat-body"},r.a.createElement(ie.a,{key:e.id,style:{width:"100%"},to:"/chat/".concat(e.id)},r.a.createElement(Pe.a,{className:"chat-card-title"},e.name)),r.a.createElement(ke.a,{className:"chat-participants"},e.authorizedUsers.map(function(e){return r.a.createElement(ie.a,{key:e.id,className:"chat-card-text",to:"/member/".concat(e.id)},r.a.createElement(Pe.a,{className:"chat-card-text"},"<",e.userName,">"))}))))});return r.a.createElement("div",null,r.a.createElement(k.a,{className:t?"content-loading":""},r.a.createElement(x.a,{sm:"12"},c)))};We.defaultProps={error:null};var Ke=We,Je=t(23),Ye=t(254),qe=t(255),Xe=t(256),Qe=t(115),$e=function(e){function a(e){var t;return Object(R.a)(this,a),(t=Object(A.a)(this,Object(F.a)(a).call(this,e))).handleChange=function(e){t.setState(Object(Je.a)({},e.target.name,e.target.value))},t.OnSubmit=function(){(0,t.props.handleCounter)(t.state.reply),t.setState({reply:""})},t.state={reply:""},t.handleChange=t.handleChange.bind(Object(ee.a)(Object(ee.a)(t))),t}return Object(U.a)(a,e),Object(Z.a)(a,[{key:"render",value:function(){var e=this,a=this.state.reply;return r.a.createElement(Ce.a,{className:"reply-card"},r.a.createElement(ke.a,null,r.a.createElement(Ye.a,null,r.a.createElement(qe.a,null,r.a.createElement(Xe.a,{className:"text-area",type:"textarea",rows:"10",name:"reply",id:"reply",placeholder:"...enter a body...",value:a,onChange:this.handleChange})),r.a.createElement(Qe.a,{onClick:function(){e.OnSubmit()},color:"primary"},"Reply to conversation"))))}}]),a}(r.a.Component),Ze=Object(s.b)(function(e){return{reply:e.reply||""}},{})($e);var ea=function(e){var a=e.error,t=e.loading,n=e.chats,c=e.chatId,l=e.member,s=e.reFetch;if(t)return r.a.createElement(Ae.a,null);if(a)return r.a.createElement(Te.a,{content:a});var o=null;c&&n&&(o=n.find(function(e){return e.id===c}));var i=function(){var e=o.messages.map(function(e){return r.a.createElement(Ce.a,{className:"chat-card-body",key:"".concat(e.id)},r.a.createElement(ke.a,{className:"chat-card-timestamp-body"},r.a.createElement(Pe.a,{className:"chat-card-timestamp-text"},new Date(+e.timestamp).toLocaleString())),r.a.createElement(ke.a,{className:"chat-card-main-body"},r.a.createElement(ke.a,{className:"chat-card-author-body"},r.a.createElement("img",{className:"chat-card-author-img",src:"https://i.imgur.com/Dxkqw0C.png",alt:" "}),r.a.createElement(ie.a,{style:{width:"100%"},to:"/member/".concat(e.author.id)},r.a.createElement(Pe.a,{className:"chat-card-author-text"},function(e){var a=null;return e&&o.authorizedUsers&&(a=o.authorizedUsers.find(function(a){return a.id===e})),a.userName}(e.author.id)))),r.a.createElement(ke.a,{className:"chat-card-message-body"},r.a.createElement(Pe.a,{className:"chat-card-message-text"},e.message))))});return r.a.createElement("div",null,r.a.createElement(k.a,{className:t?"content-loading":""},e))},u=function(){return r.a.createElement(k.a,{className:"pb-3"},r.a.createElement(x.a,{sm:"12"},r.a.createElement(ie.a,{className:"btn btn-primary",to:"/chats"},r.a.createElement("i",{className:"icon-arrow-left"})," Back")))};if(!o)return r.a.createElement(Te.a,{content:I.a.chat404});return r.a.createElement("div",null,r.a.createElement(u,null),r.a.createElement(k.a,{className:t?"content-loading":""},r.a.createElement(x.a,{sm:"12"},r.a.createElement(i,null)),r.a.createElement(Ze,{handleCounter:function(e){var a=e,t={id:l.uid},n=(new Date).getTime();!function(e,a,t,n){J.child("chat-messages/").child(e).push({id:J.child("chat-messages/").child(e).push().key,messagetext:a,author:t,timestamp:n}).catch(function(e){console.log(e)})}(c,a,t,n),s()}})))};ea.defaultProps={error:null};var aa=ea;var ta=function(e){function a(){var e,t;Object(R.a)(this,a);for(var n=arguments.length,c=new Array(n),l=0;l<n;l++)c[l]=arguments[l];return(t=Object(A.a)(this,(e=Object(F.a)(a)).call.apply(e,[this].concat(c)))).componentDidMount=function(){return t.fetchMembers()},t.fetchMembers=function(){var e=t.props,a=e.fetchMembers,n=e.showError,r=e.fetchMemberTypes;return a().then(function(){return r()}).catch(function(e){return console.log("Error: ".concat(e)),n(e)})},t.render=function(){var e=t.props,a=e.Layout,n=e.members,c=e.match,l=c&&c.params&&c.params.id?c.params.id:null;return r.a.createElement(a,{open:!1,memberId:l,error:n.error,loading:n.loading,members:n.members,reFetch:function(){return t.fetchMembers()}})},t}return Object(U.a)(a,e),a}(n.Component);ta.defaultProps={match:null};var na={fetchMembers:function(){return null===Y?function(){return new Promise(function(e){return e()})}:function(e){return new Promise(function(a){return J.child("users").on("value",function(t){var n=t.val()||[];return a(e({type:"MEMBERS_REPLACE",data:n}))})}).catch(function(e){return console.log(e)})}},fetchMemberTypes:function(){return null===Y?function(){return new Promise(function(e){return e()})}:function(e){return new Promise(function(a,t){return J.child("memberTypes").once("value").then(function(t){var n=t.val()||[];return a(e({type:"MEMBERTYPES_REPLACE",data:n}))}).catch(t)}).catch(function(e){return console.log(e)})}},showError:function(e){return function(a){return new Promise(function(t){return t(a({type:"MEMBERS_ERROR",data:e}))})}}},ra=Object(s.b)(function(e){return{members:e.members||{}}},na)(ta),ca=t(118),la=function(e){var a=e.error,t=e.loading,n=e.members;if(a)return r.a.createElement(Te.a,{content:a});var c=n.map(function(e){return r.a.createElement(Ce.a,{className:"member-card",key:"".concat(e.id)},r.a.createElement(ca.a,{overlayStyle:{background:"rgba(0, 0, 0, 0.4)"},closeOnDocumentClick:!0,modal:!0,trigger:r.a.createElement(ke.a,{className:"body"},r.a.createElement("img",{className:"img",src:"https://i.imgur.com/Dxkqw0C.png",alt:" "}),r.a.createElement(Pe.a,{className:"text"},e.userName))},r.a.createElement(Ce.a,{className:"popup-card"},r.a.createElement(ke.a,{className:"popup-body"},r.a.createElement("img",{className:"popup-img",src:"https://i.imgur.com/Dxkqw0C.png",alt:" "}),r.a.createElement(ke.a,{className:"popup-text-body"},r.a.createElement(Pe.a,{className:"popup-title"},r.a.createElement(ie.a,{to:"/member/".concat(e.id)},"".concat(e.userName,"'s Profile Page"))),r.a.createElement(Pe.a,{className:"popup-text"},r.a.createElement(ie.a,{to:{pathname:"/newchat",chatTarget:e}},"Send a private message")))))))});return r.a.createElement("div",null,r.a.createElement(k.a,{className:t?"content-loading":""},r.a.createElement(x.a,{sm:"12"},c)))};la.defaultProps={error:null};var sa=la,oa=t(257),ia=function(e){var a=e.error,t=e.loading,n=e.members,c=e.memberId;if(t)return r.a.createElement(Ae.a,null);if(a)return r.a.createElement(Te.a,{content:a});var l=null;return c&&n&&(l=n.find(function(e){return e.id===c})),l?r.a.createElement("div",null,r.a.createElement(k.a,{className:"pb-3"},r.a.createElement(x.a,{sm:"12"},r.a.createElement(ie.a,{className:"btn btn-primary",to:"/members"},r.a.createElement("i",{className:"icon-arrow-left"})," Back"))),r.a.createElement(k.a,null,r.a.createElement(x.a,{sm:"12"},r.a.createElement("h1",null,"".concat(l.userName)))),r.a.createElement(k.a,null,r.a.createElement(x.a,{lg:"4",className:"members-view-card"},r.a.createElement(Ce.a,{style:{backgroundColor:"#6A6E74"}},r.a.createElement(oa.a,null," About this member "),r.a.createElement(ke.a,{style:{backgroundColor:"#606060"}},r.a.createElement(Pe.a,null,l.userName)))),r.a.createElement(x.a,{lg:"4",className:"members-view-card"},r.a.createElement(Ce.a,{style:{backgroundColor:"#6A6E74"}},r.a.createElement(oa.a,null," Details "),r.a.createElement(Pe.a,{style:{backgroundColor:"#606060"}},l.userName))),r.a.createElement(x.a,{lg:"4",className:"members-view-card"},r.a.createElement(Ce.a,{style:{backgroundColor:"#6A6E74"}},r.a.createElement(oa.a,null," info "),r.a.createElement(Pe.a,{style:{backgroundColor:"#606060"}},l.userName))))):r.a.createElement(Te.a,{content:I.a.member404})};ia.defaultProps={error:null};var ua=ia,ma=t(258);var da=function(e){function a(e){var t;return Object(R.a)(this,a),(t=Object(A.a)(this,Object(F.a)(a).call(this,e))).handleChange=function(e){t.setState(Object(Je.a)({},e.target.name,e.target.value))},t.state={title:"",message:""},t.handleChange=t.handleChange.bind(Object(ee.a)(Object(ee.a)(t))),t}return Object(U.a)(a,e),Object(Z.a)(a,[{key:"render",value:function(){var e,a=this.props,t=a.member,n=a.chatTarget,c=t.uid,l={id:c},s=n.id,o=(e={},Object(Je.a)(e,c,{id:c}),Object(Je.a)(e,s,{id:s}),e),i=this.state,u=i.title,m=i.message;return r.a.createElement("div",null,r.a.createElement(k.a,null,r.a.createElement(x.a,{sm:"12"},r.a.createElement(ie.a,{className:"btn btn-primary",to:"/"},r.a.createElement("i",{className:"icon-arrow-left"})," Back")),r.a.createElement(x.a,null,r.a.createElement(Ce.a,{style:{backgroundColor:"#606060",top:25}},r.a.createElement(oa.a,{style:{backgroundColor:"black"}},"Start a chat with ".concat(n.userName)),r.a.createElement(ke.a,null,r.a.createElement(Ye.a,null,r.a.createElement(qe.a,null,r.a.createElement(ma.a,{for:"title"}," title "),r.a.createElement(Xe.a,{className:"text-area",type:"title",name:"title",id:"title",placeholder:"...enter a title...",value:u,onChange:this.handleChange}),r.a.createElement(ma.a,{for:"message"}," message "),r.a.createElement(Xe.a,{className:"text-area",type:"message",name:"message",id:"message",placeholder:"...enter a message...",value:m,onChange:this.handleChange})),r.a.createElement(Qe.a,{onClick:function(){console.log({title:u,author:l,AuthorizedUsersObject:o,message:m}),function(e,a,t,n){var r=(new Date).getTime(),c=J.child("chats/").push().key;J.child("chats/".concat(c)).set({chatId:c,name:e,createdByUserId:a.id,createdAt:r,authorizedUsers:t}),J.child("chat-messages/").child(c).push({id:J.child("chat-messages/").child(c).push().key,messagetext:n,author:a,timestamp:r}),Object.values(t).map(function(e){return{id:e.id}}).forEach(function(e){J.child("user-chats/".concat(e.id,"/chats/").concat(c)).set({id:c})})}(u,l,o,m)},color:"primary"}," Create chat")))))))}}]),a}(r.a.Component);da.defaultProps={member:{},chatTarget:{}};var ha=da,pa=function(e){function a(){var e,t;Object(R.a)(this,a);for(var n=arguments.length,c=new Array(n),l=0;l<n;l++)c[l]=arguments[l];return(t=Object(A.a)(this,(e=Object(F.a)(a)).call.apply(e,[this].concat(c)))).state={errorMessage:null},t.onFormSubmit=function(e){return(0,t.props.onFormSubmit)(e).catch(function(e){throw t.setState({errorMessage:e}),e})},t.render=function(){var e=t.props,a=e.member,n=e.Layout,c=e.isLoading,l=e.location.chatTarget,s=t.state.errorMessage;return r.a.createElement(n,{member:a,loading:c,error:s,onFormSubmit:t.onFormSubmit,chatTarget:l})},t}return Object(U.a)(a,e),a}(n.Component),fa=Object(s.b)(function(e){return{member:e.member||{},isLoading:e.status.loading||!1,chatTarget:e.chatTarget}},{})(pa),ba=function(e){function a(){var e,t;Object(R.a)(this,a);for(var n=arguments.length,c=new Array(n),l=0;l<n;l++)c[l]=arguments[l];return(t=Object(A.a)(this,(e=Object(F.a)(a)).call.apply(e,[this].concat(c)))).state={error:null,success:null,loading:!1},t.onFormSubmit=function(e){var a=t.props.onFormSubmit;return t.setState({loading:!0}),a(e).then(function(){return t.setState({loading:!1,success:"Success - You are now a member",error:null})}).catch(function(e){throw t.setState({loading:!1,success:null,error:e}),e})},t.render=function(){var e=t.props,a=e.member,n=e.Layout,c=t.state,l=c.error,s=c.loading,o=c.success;return r.a.createElement(n,{error:l,member:a,loading:s,success:o,onFormSubmit:t.onFormSubmit})},t}return Object(U.a)(a,e),a}(n.Component),ga={onFormSubmit:function(e){var a=e.email,t=e.password,n=e.password2,r=e.userName;return function(){return new Promise(function(){var e=Object(_.a)(M.a.mark(function e(c,l){return M.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r){e.next=2;break}return e.abrupt("return",l({message:I.a.missingUserName}));case 2:if(a){e.next=4;break}return e.abrupt("return",l({message:I.a.missingEmail}));case 4:if(t){e.next=6;break}return e.abrupt("return",l({message:I.a.missingPassword}));case 6:if(n){e.next=8;break}return e.abrupt("return",l({message:I.a.missingPassword}));case 8:if(t===n){e.next=10;break}return e.abrupt("return",l({message:I.a.passwordsDontMatch}));case 10:return e.abrupt("return",Y.auth().createUserWithEmailAndPassword(a,t).then(function(e){e&&e.user.uid&&J.child("users/".concat(e.user.uid)).set({userName:r,finance:{balance:0},id:e.user.uid,signedUp:Y.database.ServerValue.TIMESTAMP,lastLoggedIn:Y.database.ServerValue.TIMESTAMP}).then(c)}).catch(l));case 11:case"end":return e.stop()}},e)}));return function(a,t){return e.apply(this,arguments)}}()).catch(function(e){throw e.message})}}},Ea=Object(s.b)(function(e){return{member:e.member||{}}},ga)(ba),va=t(264),ya=function(e){function a(e){var t;return Object(R.a)(this,a),(t=Object(A.a)(this,Object(F.a)(a).call(this,e))).handleChange=function(e){t.setState(Object(Je.a)({},e.target.name,e.target.value))},t.handleSubmit=function(e){e.preventDefault();var a=t.props,n=a.onFormSubmit,r=a.history;n(t.state).then(function(){return r.push("/login")}).catch(function(e){return console.log("Error: ".concat(e))})},t.state={userName:"",email:"",password:"",password2:""},t.handleChange=t.handleChange.bind(Object(ee.a)(Object(ee.a)(t))),t.handleSubmit=t.handleSubmit.bind(Object(ee.a)(Object(ee.a)(t))),t}return Object(U.a)(a,e),Object(Z.a)(a,[{key:"render",value:function(){var e=this.props.error,a=this.state,t=a.userName,n=a.email,c=a.password,l=a.password2;return r.a.createElement("div",null,r.a.createElement(k.a,null,r.a.createElement(x.a,{lg:{size:6,offset:3}},r.a.createElement(Ce.a,null,r.a.createElement(oa.a,null,"Sign Up"),r.a.createElement(ke.a,null,!!e&&r.a.createElement(va.a,{color:"danger"},e),r.a.createElement(Ye.a,{onSubmit:this.handleSubmit},r.a.createElement(qe.a,null,r.a.createElement(ma.a,{for:"email"},"Email"),r.a.createElement(Xe.a,{type:"email",name:"email",id:"email",placeholder:"john@doe.corp",value:n,onChange:this.handleChange})),r.a.createElement(qe.a,null,r.a.createElement(ma.a,{for:"userName"},"UserName"),r.a.createElement(Xe.a,{type:"username",name:"userName",id:"userName",placeholder:"John",value:t,onChange:this.handleChange})),r.a.createElement(qe.a,null,r.a.createElement(ma.a,{for:"password"},"Password"),r.a.createElement(Xe.a,{type:"password",name:"password",id:"password",placeholder:"\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022",value:c,onChange:this.handleChange})),r.a.createElement(qe.a,null,r.a.createElement(ma.a,{for:"password2"},"Confirm Password"),r.a.createElement(Xe.a,{type:"password",name:"password2",id:"password2",placeholder:"\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022",value:l,onChange:this.handleChange})),r.a.createElement(Qe.a,{color:"primary"},"Sign Up!")),r.a.createElement("hr",null),r.a.createElement(k.a,null,r.a.createElement(x.a,{sm:"12"},"Already have an account?",r.a.createElement(ie.a,{to:"/login"},"Login"))))))))}}]),a}(r.a.Component);ya.defaultProps={error:null};var wa=Object(ue.a)(ya),Oa=function(e){function a(){var e,t;Object(R.a)(this,a);for(var n=arguments.length,c=new Array(n),l=0;l<n;l++)c[l]=arguments[l];return(t=Object(A.a)(this,(e=Object(F.a)(a)).call.apply(e,[this].concat(c)))).state={error:null,success:null,loading:!1},t.onFormSubmit=function(e){var a=t.props.onFormSubmit;return t.setState({loading:!0}),a(e).then(function(){return t.setState({loading:!1,success:"Success - Logged in",error:null})}).catch(function(e){throw t.setState({loading:!1,success:null,error:e}),e})},t.render=function(){var e=t.props,a=e.member,n=e.Layout,c=t.state,l=c.error,s=c.loading,o=c.success;return r.a.createElement(n,{error:l,member:a,loading:s,success:o,onFormSubmit:t.onFormSubmit})},t}return Object(U.a)(a,e),a}(n.Component),ja={onFormSubmit:function(e){var a=e.email,t=e.password;return function(e){return new Promise(function(){var n=Object(_.a)(M.a.mark(function n(r,c){return M.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(a){n.next=2;break}return n.abrupt("return",c({message:I.a.missingEmail}));case 2:if(t){n.next=4;break}return n.abrupt("return",c({message:I.a.missingPassword}));case 4:return n.abrupt("return",Y.auth().setPersistence(Y.auth.Auth.Persistence.LOCAL).then(function(){return Y.auth().signInWithEmailAndPassword(a,t).then(function(){var a=Object(_.a)(M.a.mark(function a(t){var n;return M.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return(n=t&&t.user?t.user:null).uid&&(J.child("users/".concat(n.uid)).update({lastLoggedIn:Y.database.ServerValue.TIMESTAMP}),!1===n.emailVerified&&Y.auth().currentUser.sendEmailVerification().catch(function(){return console.log("Verification email failed to send")}),q(e)),a.abrupt("return",r(e({type:"USER_LOGIN",data:n})));case 3:case"end":return a.stop()}},a)}));return function(e){return a.apply(this,arguments)}}()).catch(c)}));case 5:case"end":return n.stop()}},n)}));return function(e,a){return n.apply(this,arguments)}}()).catch(function(e){throw e.message})}}},Na=Object(s.b)(function(e){return{member:e.member||{}}},ja)(Oa),Sa=function(e){function a(e){var t;return Object(R.a)(this,a),(t=Object(A.a)(this,Object(F.a)(a).call(this,e))).handleChange=function(e){return t.setState(Object(Je.a)({},e.target.name,e.target.value))},t.handleSubmit=function(e){e.preventDefault();var a=t.props,n=a.onFormSubmit,r=a.history;return n(t.state).then(function(){return setTimeout(function(){return r.push("/")},1e3)}).catch(function(){})},t.state={email:e.member&&e.member.email?e.member.email:"",password:""},t.handleChange=t.handleChange.bind(Object(ee.a)(Object(ee.a)(t))),t.handleSubmit=t.handleSubmit.bind(Object(ee.a)(Object(ee.a)(t))),t}return Object(U.a)(a,e),Object(Z.a)(a,[{key:"render",value:function(){var e=this.props,a=e.loading,t=e.success,n=e.error,c=this.state,l=c.email,s=c.password;return r.a.createElement("div",null,r.a.createElement(k.a,null,r.a.createElement(x.a,{lg:{size:6,offset:3}},r.a.createElement(Ce.a,null,r.a.createElement(oa.a,null,"Login"),r.a.createElement(ke.a,null,!!t&&r.a.createElement(va.a,{color:"success"},t),!!n&&r.a.createElement(va.a,{color:"danger"},n),r.a.createElement(Ye.a,{onSubmit:this.handleSubmit},r.a.createElement(qe.a,null,r.a.createElement(ma.a,{for:"email"},"Email"),r.a.createElement(Xe.a,{type:"email",name:"email",id:"email",placeholder:"john@doe.corp",disabled:a,value:l,onChange:this.handleChange})),r.a.createElement(qe.a,null,r.a.createElement(ma.a,{for:"password"},"Password"),r.a.createElement(Xe.a,{type:"password",name:"password",id:"password",placeholder:"\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022",disabled:a,value:s,onChange:this.handleChange})),r.a.createElement(Qe.a,{color:"primary",disabled:a},a?"Loading":"Login")),r.a.createElement("hr",null),r.a.createElement(k.a,null,r.a.createElement(x.a,{sm:"6"},"Need an account?"," ",r.a.createElement(ie.a,{to:"/sign-up"},"Sign Up")),r.a.createElement(x.a,{sm:"6",className:"text-right"},r.a.createElement(ie.a,{to:"/forgot-password"},"Forgot Password?"))))))))}}]),a}(r.a.Component);Sa.defaultProps={error:null,success:null,member:{}};var Ca=Object(ue.a)(Sa),ka=function(e){function a(){var e,t;Object(R.a)(this,a);for(var n=arguments.length,c=new Array(n),l=0;l<n;l++)c[l]=arguments[l];return(t=Object(A.a)(this,(e=Object(F.a)(a)).call.apply(e,[this].concat(c)))).state={error:null,success:null,loading:!1},t.onFormSubmit=function(e){var a=t.props.onFormSubmit;return t.setState({loading:!0}),a(e).then(function(){return t.setState({loading:!1,success:"Success - Reset link emailed",error:null})}).catch(function(e){throw t.setState({loading:!1,success:null,error:e}),e})},t.render=function(){var e=t.props,a=e.member,n=e.Layout,c=t.state,l=c.error,s=c.loading,o=c.success;return r.a.createElement(n,{error:l,member:a,loading:s,success:o,onFormSubmit:t.onFormSubmit})},t}return Object(U.a)(a,e),a}(n.Component),xa={onFormSubmit:function(e){var a=e.email;return function(e){return new Promise(function(){var t=Object(_.a)(M.a.mark(function t(n,r){return M.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(a){t.next=2;break}return t.abrupt("return",r({message:I.a.missingEmail}));case 2:return t.abrupt("return",Y.auth().sendPasswordResetEmail(a).then(function(){return n(e({type:"USER_RESET"}))}).catch(r));case 3:case"end":return t.stop()}},t)}));return function(e,a){return t.apply(this,arguments)}}()).catch(function(e){throw e.message})}}},Pa=Object(s.b)(function(e){return{member:e.member||{}}},xa)(ka),Ta=function(e){function a(e){var t;return Object(R.a)(this,a),(t=Object(A.a)(this,Object(F.a)(a).call(this,e))).handleChange=function(e){return t.setState(Object(Je.a)({},e.target.name,e.target.value))},t.handleSubmit=function(e){e.preventDefault();var a=t.props,n=a.onFormSubmit,r=a.history;return n(t.state).then(function(){return setTimeout(function(){return r.push("/login")},1e3)}).catch(function(){})},t.state={email:e.member&&e.member.email?e.member.email:""},t.handleChange=t.handleChange.bind(Object(ee.a)(Object(ee.a)(t))),t.handleSubmit=t.handleSubmit.bind(Object(ee.a)(Object(ee.a)(t))),t}return Object(U.a)(a,e),Object(Z.a)(a,[{key:"render",value:function(){var e=this.props,a=e.loading,t=e.error,n=e.success,c=this.state.email;return r.a.createElement("div",null,r.a.createElement(k.a,null,r.a.createElement(x.a,{lg:{size:6,offset:3}},r.a.createElement(Ce.a,null,r.a.createElement(oa.a,null,"Forgot Password"),r.a.createElement(ke.a,null,!!t&&r.a.createElement(va.a,{color:"danger"},t),!!n&&r.a.createElement(va.a,{color:"success"},n),r.a.createElement(Ye.a,{onSubmit:this.handleSubmit},r.a.createElement(qe.a,null,r.a.createElement(ma.a,{for:"email"},"Email"),r.a.createElement(Xe.a,{type:"email",name:"email",id:"email",placeholder:"john@doe.corp",value:c,disabled:a,onChange:this.handleChange})),r.a.createElement(Qe.a,{color:"primary",disabled:a},a?"Loading":"Reset Password")),r.a.createElement("hr",null),r.a.createElement(k.a,null,r.a.createElement(x.a,{sm:"6"},"Need an account?"," ",r.a.createElement(ie.a,{to:"/sign-up"},"Sign Up")),r.a.createElement(x.a,{sm:"6",className:"text-right"},r.a.createElement(ie.a,{to:"/login"},"Login")," ","to your account.")))))))}}]),a}(r.a.Component);Ta.defaultProps={error:null,success:null,member:{}};var La=Object(ue.a)(Ta),Ra=function(e){function a(){var e,t;Object(R.a)(this,a);for(var n=arguments.length,c=new Array(n),l=0;l<n;l++)c[l]=arguments[l];return(t=Object(A.a)(this,(e=Object(F.a)(a)).call.apply(e,[this].concat(c)))).state={error:null,success:null,loading:!1},t.onFormSubmit=function(e){var a=t.props.onFormSubmit;return t.setState({loading:!0}),a(e).then(function(){return t.setState({loading:!1,success:"Success - Updated",error:null})}).catch(function(e){return t.setState({loading:!1,success:null,error:e})})},t.render=function(){var e=t.props,a=e.member,n=e.Layout,c=t.state,l=c.error,s=c.loading,o=c.success;return r.a.createElement(n,{error:l,member:a,loading:s,success:o,onFormSubmit:t.onFormSubmit})},t}return Object(U.a)(a,e),a}(n.Component),Aa={onFormSubmit:function(e){var a=e.email,t=e.password,n=e.password2,r=e.userName,c=e.changeEmail,l=e.changePassword;return function(e){return new Promise(function(){var s=Object(_.a)(M.a.mark(function s(o,i){var u;return M.a.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:if(u=Y.auth().currentUser.uid){s.next=3;break}return s.abrupt("return",i({message:I.a.missingUserName}));case 3:if(r){s.next=5;break}return s.abrupt("return",i({message:I.a.missingUserName}));case 5:if(!c){s.next=8;break}if(a){s.next=8;break}return s.abrupt("return",i({message:I.a.missingEmail}));case 8:if(!l){s.next=15;break}if(t){s.next=11;break}return s.abrupt("return",i({message:I.a.missingPassword}));case 11:if(n){s.next=13;break}return s.abrupt("return",i({message:I.a.missingPassword}));case 13:if(t===n){s.next=15;break}return s.abrupt("return",i({message:I.a.passwordsDontMatch}));case 15:return s.abrupt("return",J.child("users/".concat(u)).update({userName:r}).then(Object(_.a)(M.a.mark(function n(){return M.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(!c){n.next=3;break}return n.next=3,Y.auth().currentUser.updateEmail(a).catch(i);case 3:if(!l){n.next=6;break}return n.next=6,Y.auth().currentUser.updatePassword(t).catch(i);case 6:return n.abrupt("return",o(q(e)));case 7:case"end":return n.stop()}},n)}))).catch(i));case 16:case"end":return s.stop()}},s)}));return function(e,a){return s.apply(this,arguments)}}()).catch(function(e){throw e.message})}}},Fa=Object(s.b)(function(e){return{member:e.member||{}}},Aa)(Ra),Ua=function(e){function a(e){var t;return Object(R.a)(this,a),(t=Object(A.a)(this,Object(F.a)(a).call(this,e))).handleChange=function(e){var a="checkbox"===e.target.type?e.target.checked:e.target.value;t.setState(Object(Je.a)({},e.target.name,a))},t.handleSubmit=function(e){e.preventDefault(),(0,t.props.onFormSubmit)(t.state).catch(function(){})},t.state={userName:e.member.userName||"",email:e.member.email||"",password:"",password2:"",changeEmail:!1,changePassword:!1},t.handleChange=t.handleChange.bind(Object(ee.a)(Object(ee.a)(t))),t.handleSubmit=t.handleSubmit.bind(Object(ee.a)(Object(ee.a)(t))),t}return Object(U.a)(a,e),Object(Z.a)(a,[{key:"render",value:function(){var e=this.props,a=e.loading,t=e.success,n=e.error,c=this.state,l=c.userName,s=c.changeEmail,o=c.email,i=c.changePassword,u=c.password,m=c.password2;return r.a.createElement("div",null,r.a.createElement(k.a,null,r.a.createElement(x.a,{lg:{size:6,offset:3}},r.a.createElement(Ce.a,{className:"profile"},r.a.createElement(oa.a,{className:"header"},"Update Profile"),r.a.createElement(ke.a,null,!!n&&r.a.createElement(va.a,{color:"danger"},n),!!t&&r.a.createElement(va.a,{color:"success"},t),r.a.createElement(Ye.a,{onSubmit:this.handleSubmit},r.a.createElement(qe.a,null,r.a.createElement(ma.a,{for:"userName",style:{margin:0}},"Username"),r.a.createElement(Xe.a,{className:"text",type:"text",name:"userName",id:"userName",placeholder:"John",value:l,onChange:this.handleChange})),r.a.createElement(qe.a,{check:!0,style:{marginTop:20,marginBottom:10}},r.a.createElement(ma.a,{check:!0},r.a.createElement(Xe.a,{type:"checkbox",name:"changeEmail",checked:s,onChange:this.handleChange})," Change my email ")),s&&r.a.createElement(qe.a,null,r.a.createElement(ma.a,{for:"email",style:{margin:0}},"New Email address"),r.a.createElement(Xe.a,{className:"text",type:"email",name:"email",id:"email",placeholder:"john@doe.corp",value:o,onChange:this.handleChange})),r.a.createElement(qe.a,{check:!0,style:{marginTop:20,marginBottom:10}},r.a.createElement(ma.a,{check:!0},r.a.createElement(Xe.a,{type:"checkbox",name:"changePassword",checked:i,onChange:this.handleChange})," Change my password ")),i&&r.a.createElement("div",null,r.a.createElement(qe.a,null,r.a.createElement(ma.a,{for:"password",style:{margin:0}}," New password"),r.a.createElement(Xe.a,{className:"text",type:"password",name:"password",id:"password",placeholder:"\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022",value:u,onChange:this.handleChange})),r.a.createElement(qe.a,null,r.a.createElement(ma.a,{for:"password2",style:{margin:0}},"Confirm Password"),r.a.createElement(Xe.a,{className:"text",type:"password",name:"password2",id:"password2",placeholder:"\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022",value:m,onChange:this.handleChange}))),r.a.createElement(Qe.a,{style:{marginTop:20},color:"primary",disabled:a},a?"Loading":"Update Profile")))))))}}]),a}(r.a.Component);Ua.defaultProps={error:null,success:null};var Da=Ua,Ma=function(){return r.a.createElement(N.a,null,r.a.createElement(S.a,{exact:!0,path:"/",render:function(e){return r.a.createElement(ve,null,r.a.createElement(we,e))}}),r.a.createElement(S.a,{path:"/sign-up",render:function(e){return r.a.createElement(L,{pageTitle:"Sign Up"},r.a.createElement(Ea,Object.assign({},e,{Layout:wa})))}}),r.a.createElement(S.a,{path:"/login",render:function(e){return r.a.createElement(L,{pageTitle:"Login"},r.a.createElement(Na,Object.assign({},e,{Layout:Ca})))}}),r.a.createElement(S.a,{path:"/forgot-password",render:function(e){return r.a.createElement(L,{pageTitle:"Forgot Password"},r.a.createElement(Pa,Object.assign({},e,{Layout:La})))}}),r.a.createElement(S.a,{path:"/update-profile",render:function(e){return r.a.createElement(ve,{pageTitle:"Update Profile"},r.a.createElement(Fa,Object.assign({},e,{Layout:Da})))}}),r.a.createElement(S.a,{path:"/newchat",render:function(e){return r.a.createElement(ve,{pageTitle:"Send a message"},r.a.createElement(fa,Object.assign({},e,{Layout:ha})))}}),r.a.createElement(S.a,{path:"/games",render:function(e){return r.a.createElement(ve,{pageTitle:"Games"},r.a.createElement(Ne,Object.assign({},e,{Layout:Re})))}}),r.a.createElement(S.a,{path:"/game/:id",render:function(e){return r.a.createElement(ve,{pageTitle:"Game View"},r.a.createElement(Ne,Object.assign({},e,{Layout:Ue})))}}),r.a.createElement(S.a,{path:"/members",render:function(e){return r.a.createElement(ve,{pageTitle:"Members"},r.a.createElement(ra,Object.assign({},e,{Layout:sa})))}}),r.a.createElement(S.a,{path:"/member/:id",render:function(e){return r.a.createElement(ve,{pageTitle:"Member View"},r.a.createElement(ra,Object.assign({},e,{Layout:ua})))}}),r.a.createElement(S.a,{path:"/chats",render:function(e){return r.a.createElement(ve,{pageTitle:"Chats"},r.a.createElement(He,Object.assign({},e,{Layout:Ke})))}}),r.a.createElement(S.a,{path:"/chat/:id",render:function(e){return r.a.createElement(ve,{pageTitle:"Chat View"},r.a.createElement(He,Object.assign({},e,{Layout:aa})))}}),r.a.createElement(S.a,{render:function(e){return r.a.createElement(ve,{pageTitle:"404 - Page not found"},r.a.createElement(Te.a,Object.assign({},e,{title:"404",content:"Sorry, the route you requested does not exist"})))}}))},_a=(t(228),j()),Ia=_a.persistor,za=_a.store,Ba=function(){return r.a.createElement(s.a,{store:za},r.a.createElement(i.a,{loading:r.a.createElement(Ae.a,null),persistor:Ia},r.a.createElement(o.a,null,r.a.createElement(Ma,null))))};l.a.render(r.a.createElement(Ba,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},40:function(e,a,t){"use strict";var n=t(0),r=t.n(n),c=t(120),l=t(121),s=t(231);a.a=function(){return r.a.createElement(c.a,null,r.a.createElement(l.a,{md:{size:6,offset:3}},r.a.createElement("div",{className:"page-is-loading"},r.a.createElement(s.a,{bar:!0,animated:!0,value:"100"},"Loading"))))}}},[[123,2,3]]]);
//# sourceMappingURL=main.0516e2c7.chunk.js.map